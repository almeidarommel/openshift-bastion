# Import OVA on vSphere

Access the vCenter web ui:
----
https://<vcenter-url>.com
User: <administrator@vsphere.local>
Password: <admin_password>
----

#### Import OVA Template

[NOTE]
====
Note 1: To save time, this OVA is has been already imported. The steps below is for reference only, use the template that is in "ocp-template" folder and skip the steps below.

Note 2: *NEVER, NEVER, NEVER start up the template*. The ignition process runs on first boot, so booting the template would mean any ignition files provided after that wouldn't be evaluated.
====

1. In the vSphere Client, create a folder in your datacenter to store your VMs.

    a. Click the VMs and Templates view.

    b. Right-click the name of your datacenter.

    c. Click New Folder → New VM and Template Folder.

    d. In the window that is displayed, enter the folder name. The folder name must match the cluster name that you specified in the *install-config.yaml* file.

image::images/01-vcenter-create-folder.png[Creating Folder]

2. In the vSphere Client, create a template for the OVA image.

[NOTE] 
In the following steps, you use the same template for all of your cluster machines and provide the location for the Ignition config file for that machine type when you provision the VMs.

a. From the Hosts and Clusters tab, right-click your cluster’s name and click Deploy OVF Template.

image::images/02-vcenter-deploy-ova.png[Deploying OVA]

b. On the Select an OVF tab, specify the name of the RHCOS OVA file that you downloaded or Add the url to RHCOS OVA (https://mirror.openshift.com/pub/openshift-v4/dependencies/rhcos/4.3/latest/[see here]) and click on NEXT button:

image::images/03-vcenter-ova-url.png[Deploying OVA]

c. On the Select a name and folder tab, set a Virtual machine name, such as RHCOS, click the name of your vSphere cluster, and select the folder you created in the previous step.

image::images/04-vcenter-ova-folder.png[Deploying OVA]

d. On the Select a compute resource tab, click the name of your vSphere cluster.

image::images/05-vcenter-ova-compute.png[Deploying OVA]

e. On the Select storage tab, configure the storage options for your VM.

    * Select Thin Provision.

    * Select the datastore that you specified in your *install-config.yaml* file.

image::images/06-vcenter-ova-storage.png[Deploying OVA]

f. On the Select network tab, specify the network that you configured for the cluster, if available.

image::images/07-vcenter-ova-network.png[Deploying OVA]

g. If you plan to use the same template for all cluster machine types, do not specify values on the Customize template tab.

    * Don't fill anything yet (these parameters will be filled further). Click NEXT.
    
image::images/08-vcenter-ova-template.png[Deploying OVA]

    * Click em Finish in the next screen

image::images/09-vcenter-ova-finish.png[Deploying OVA]















